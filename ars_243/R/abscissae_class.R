
####   S3 class definition   ###

# Constructor #

# Creates the objects that contains the necesary information to get our sample
as.abscissae <- function( x, h, l_h, u_h, eps ) {
  if ( is.expression(h) ) {
    h_exp <- h
    h <- function(x) { eval(h_exp) }
  }
  if (!is.function(h)) {
    stop( '"f" has to be either expr or function' )
  }
  T_k <- x
  h_T <-  h(T_k)
  hp_T <- ( h(T_k+eps) - h_T ) / eps
  
  k <- length(T_k)
  abscissae <- structure(
    list( T_k=T_k,
          h_T=h_T,
          hp_T=hp_T,
          z_i=NULL,
          k=k,
          l_h=l_h,
          u_h=u_h )
    , class = "abscissae"
  )
  return(abscissae)
}
